:root {
	--color-transparent: #00000000;
	--color-white: #ffffff;
	--color-black: #000000;

	--color-hinted: var(--color-hinted-3);
	--color-hinted-1: #0e0e10;
	--color-hinted-2: #18181b;
	--color-hinted-3: #1f1f23;
	--color-hinted-4: #26262c;
	--color-hinted-45: #2b2b31;
	--color-hinted-5: #323239;
	--color-hinted-6: #3b3b44;
	--color-hinted-7: #53535f;
	--color-hinted-75: #6b6b7b;
	--color-hinted-8: #848494;
	--color-hinted-9: #adadb8;
	--color-hinted-10: #c8c8d0;
	--color-hinted-11: #d3d3d9;
	--color-hinted-12: #dedee3;
	--color-hinted-13: #e6e6ea;
	--color-hinted-14: #efeff1;
	--color-hinted-15: #f7f7f8;

	--color-grey-1: #0e0e10;
	--color-grey-2: #18181b;
	--color-grey-3: #1f1f23;
	--color-grey-4: #26262c;
	--color-grey-5: #323239;
	--color-grey-6: #3b3b44;
	--color-grey-7: #53535f;
	--color-grey-8: #848494;
	--color-grey-9: #adadb8;
	--color-grey-10: #c8c8d0;
	--color-grey-11: #d3d3d9;
	--color-grey-12: #dedee3;
	--color-grey-13: #e6e6ea;
	--color-grey-14: #efeff1;
	--color-grey-15: #f7f7f8;

	--color-orange: #ffaa00;
	--color-orange-1: #050301;
	--color-orange-2: #090601;
	--color-orange-3: #120d02;
	--color-orange-4: #251a04;
	--color-orange-5: #372706;
	--color-orange-6: #453008;
	--color-orange-7: #65470b;
	--color-orange-8: #7c570e;
	--color-orange-9: #9e6900;
	--color-orange-10: #c28100;
	--color-orange-11: #e69900;
	--color-orange-12: #ffb31a;
	--color-orange-13: #ffd37a;
	--color-orange-14: #ffdf9e;
	--color-orange-15: #ffebc2;

	--color-yellow: #ffff00;
	--color-yellow-1: #050501;
	--color-yellow-2: #090901;
	--color-yellow-3: #0e0e02;
	--color-yellow-4: #1c1c03;
	--color-yellow-5: #292905;
	--color-yellow-6: #373706;
	--color-yellow-7: #4e4e09;
	--color-yellow-8: #60600b;
	--color-yellow-9: #7a7a00;
	--color-yellow-10: #9e9e00;
	--color-yellow-11: #c4c407;
	--color-yellow-12: #e6e614;
	--color-yellow-13: #f5f55e;
	--color-yellow-14: #ffff9d;
	--color-yellow-15: #ffffc5;

	--color-green: #00ff99;
	--color-green-1: #010503;
	--color-green-2: #010906;
	--color-green-3: #02120c;
	--color-green-4: #042015;
	--color-green-5: #063221;
	--color-green-6: #074029;
	--color-green-7: #0a5738;
	--color-green-8: #016b40;
	--color-green-9: #018852;
	--color-green-10: #00a865;
	--color-green-11: #00c274;
	--color-green-12: #00db84;
	--color-green-13: #00f593;
	--color-green-14: #5cffbe;
	--color-green-15: #a8ffdc;

	--color-cyan: #00ffff;
	--color-cyan-1: #010505;
	--color-cyan-2: #010909;
	--color-cyan-3: #021212;
	--color-cyan-4: #042020;
	--color-cyan-5: #052e2e;
	--color-cyan-6: #073c3c;
	--color-cyan-7: #095353;
	--color-cyan-8: #0c6a6a;
	--color-cyan-9: #018383;
	--color-cyan-10: #00a3a3;
	--color-cyan-11: #00b8b8;
	--color-cyan-12: #00d6d6;
	--color-cyan-13: #00f0f0;
	--color-cyan-14: #2effff;
	--color-cyan-15: #94ffff;

	--color-blue: #0055ff;
	--color-blue-1: #010205;
	--color-blue-2: #020712;
	--color-blue-3: #040d20;
	--color-blue-4: #071a40;
	--color-blue-5: #0a255c;
	--color-blue-6: #0d3177;
	--color-blue-7: #1345aa;
	--color-blue-8: #1756d3;
	--color-blue-9: #1f69ff;
	--color-blue-10: #528bff;
	--color-blue-11: #7aa7ff;
	--color-blue-12: #a3c2ff;
	--color-blue-13: #c7daff;
	--color-blue-14: #d6e4ff;
	--color-blue-15: #e5eeff;

	--color-magenta: #ff00d0;
	--color-magenta-1: #050104;
	--color-magenta-2: #12020f;
	--color-magenta-3: #20041b;
	--color-magenta-4: #37062e;
	--color-magenta-5: #4e0941;
	--color-magenta-6: #650b55;
	--color-magenta-7: #8a0f73;
	--color-magenta-8: #ae1392;
	--color-magenta-9: #c516a5;
	--color-magenta-10: #ff38db;
	--color-magenta-11: #ff75e6;
	--color-magenta-12: #ffa3ee;
	--color-magenta-13: #ffc7f5;
	--color-magenta-14: #ffd6f8;
	--color-magenta-15: #ffe5fa;

	--color-red: #e91916;
	--color-red-1: #050101;
	--color-red-2: #120202;
	--color-red-3: #200404;
	--color-red-4: #3c0807;
	--color-red-5: #530a09;
	--color-red-6: #6e0e0c;
	--color-red-7: #971311;
	--color-red-8: #bb1411;
	--color-red-9: #eb0400;
	--color-red-10: #ff4f4d;
	--color-red-11: #ff8280;
	--color-red-12: #ffaaa8;
	--color-red-13: #ffcdcc;
	--color-red-14: #ffdcdb;
	--color-red-15: #ffe6e5;

	--color-twitter: #1da1f2;
	--color-facebook: #3b5998;
	--color-reddit: #ff4500;
	--color-snapchat: #fffc00;
	--color-instagram: #405de6;
	--color-youtube: #cd201f;
	--color-paypal: #009cde;
	--color-paypal-blue: #009cde;
	--color-paypal-yellow: #fcc439;
	--color-venmo: #008cff;
	--color-vk: #45668e;
	--color-amazon: #fad677;

	--width-0: 0px;
	--width-1: 1px;
	--width-2: 2px;
	--width-3: 3px;
	--width-4: 4px;
	--width-5: 5px;
	--width-6: 7px;
	--width-7: 10px;
	--width-8: 15px;
	--width-9: 25px;

	--space-0: 0;
	--space-025: 0.25rem;
	--space-05: 0.5rem;
	--space-1: 1rem;
	--space-2: 2rem;
	--space-3: 3rem;
	--space-4: 4rem;
	--space-5: 5rem;
	--space-6: 6rem;
	--space-7: 7rem;
	--space-8: 8rem;
	--space-9: 9rem;
	--space-10: 10rem;
	--space-auto: auto;

	--timing-short: 100ms;
	--timing-medium: 150ms;
	--timing-long: 200ms;

	--transition-short: 250ms;
	--transition-medium: 500ms;
	--transition-long: 750ms;

	--font-size-1: 5.4rem;
	--font-size-2: 3.6rem;
	--font-size-3: 2.4rem;
	--font-size-4: 1.8rem;
	--font-size-5: 1.4rem;
	--font-size-6: 1.3rem;
	--font-size-7: 1.2rem;
	--font-size-8: 1rem;
	--font-size-9: 0.7rem;
	--font-size-10: 0.5rem;
	--font-size-base: var(--font-size-8);
	--font-weight-normal: 400;
	--font-weight-semibold: 600;
	--font-weight-bold: 700;
	--font-weight-hdr: var(--font-weight-normal);
}

:root {
	--font-base: 'Inter', 'Roobert', 'Helvetica Neue', Helvetica, Arial, sans-serif;
	--font-display: 'Roobert', 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif;
	--font-mono: monospace;
	scroll-behavior: smooth;
	scroll-padding-top: 70px;

	--color-link-hover: var(--color-magenta-11);
}

:root {
	color-scheme: light;
	--color-font: var(--color-hinted-1);
	--color-font-2: var(--color-hinted-5);
	--color-font-faded: var(--color-hinted-7);

	--color-font-shadow: color-mix(in srgb, var(--color-hinted-15), transparent 100%);
	--color-font-shadow-highlight: 0px 0px 3px color-mix(in srgb, var(--color-hinted-3), transparent 80%);

	--color-background-start: var(--color-hinted-15);
	--color-background-end: var(--color-hinted-13);

	--color-app: var(--color-hinted-13);
	--color-app-accent: var(--color-hinted-9);
	--color-app-contrast: var(--color-hinted-5);

	--color-combined-sum: var(--color-yellow-10);
	--color-total-cost: var(--color-red-9);
	--color-combined-cost: var(--color-red-8);
	--color-total-value: var(--color-green-11);
	--color-combined-value: var(--color-green-9);
	--color-pen-renblath-total-value: var(--color-orange-11);
	--color-shadowed: var(--color-hinted-8);

	--color-field: var(--color-hinted-15);
	--color-field-border: var(--color-hinted-8);
	--color-field-disabled: var(--color-hinted-15);
	--color-field-border-disabled: var(--color-hinted-9);
	--color-button: var(--color-hinted-10);
	--color-button-hover: var(--color-hinted-9);

	--color-editable: var(--color-hinted-14);
	--color-editable-outline: var(--color-hinted-9);
	--color-editable-hover: var(--color-hinted-8);
	--color-editable-focus: var(--color-hinted-5);

	--filter-brightness: brightness(10%);
}

[data-theme='dark'] {
	color-scheme: dark;

	--color-font: var(--color-hinted-14);
	--color-font-2: var(--color-hinted-12);
	--color-font-faded: var(--color-hinted-9);

	--color-font-shadow: color-mix(in srgb, var(--color-hinted-1), transparent 50%);
	--color-font-shadow-highlight: 0px 0px 3px var(--color-hinted-3), 0px 0px 4px var(--color-hinted-2);

	--color-background-start: var(--color-hinted-3);
	--color-background-end: var(--color-hinted-2);

	--color-app: var(--color-hinted-5);
	--color-app-accent: var(--color-hinted-7);
	--color-app-contrast: var(--color-hinted-12);

	--color-combined-sum: var(--color-yellow-14);
	--color-total-cost: var(--color-red);
	--color-combined-cost: var(--color-red-11);
	--color-total-value: var(--color-green-10);
	--color-combined-value: var(--color-green-13);
	--color-pen-renblath-total-value: var(--color-orange-11);
	--color-shadowed: var(--color-hinted-8);

	--color-field: var(--color-hinted-6);
	--color-field-border: var(--color-hinted-12);
	--color-field-disabled: var(--color-hinted-6);
	--color-field-border-disabled: var(--color-hinted-8);
	--color-button: var(--color-hinted-75);
	--color-button-hover: var(--color-hinted-9);

	--color-editable: var(--color-hinted-45);
	--color-editable-outline: var(--color-hinted-7);
	--color-editable-hover: var(--color-hinted-9);
	--color-editable-focus: var(--color-hinted-14);

	--filter-brightness: brightness(100%);
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

body {
	font-family: var(--font-base);

	color: var(--color-font);
	background: linear-gradient(to bottom, transparent, var(--color-background-end)) var(--color-background-start);

	font-size: var(--font-size-base);
	text-shadow: 0 0 3px var(--color-font-shadow);
}

a {
	color: inherit;
	text-decoration: none;
}

span[contenteditable='true'] {
	padding-inline: 1px;
	margin-inline: -1px;
	background: var(--color-editable);
	border-radius: 2px;
	outline: dashed 1px var(--color-editable-outline);

	&:hover {
		outline: dashed 1px var(--color-editable-hover);
		color: var(--color-font-2);
	}
	&:focus-visible {
		outline: dashed 1px var(--color-editable-focus);
		color: var(--color-font);
	}
}

input,
select,
textarea {
	padding-block: 1px;
	padding-inline: 1px;
	color: var(--color-font);

	&:focus-visible {
		outline: solid 0.9px;
		border-radius: 2px;
	}
}

input:not([type='button']):not([type='reset']):not([type='submit']):not([type='image']),
select,
textarea {
	color: var(--color-font);
	background: var(--color-field);
	border: solid 1px var(--color-field-border);

	&:disabled {
		background: var(--color-field-disabled);
		border: solid 1px var(--color-field-border-disabled);
		-moz-appearance: textfield;
		-webkit-appearance: textfield;
		appearance: textfield;

		&::-webkit-inner-spin-button,
		&::-webkit-outer-spin-button {
			opacity: 0;
		}
	}
}

input[type='button'],
input[type='reset'],
input[type='submit'],
input[type='image'],
button {
	background: var(--color-button);
	border: solid var(--color-button);
	border-radius: 3px;

	&:hover {
		background: var(--color-button-hover);
		border-color: var(--color-button-hover);
	}
}

input[type='number']::-webkit-inner-spin-button,
input[type='number']::-webkit-outer-spin-button {
	opacity: 1;
}

input,
textarea {
	padding-block: 2px;
	padding-inline: 4px;
}

*:disabled {
	color: var(--color-font-faded) !important;
}

.faded {
	color: var(--color-font-faded) !important;
}

::placeholder {
	color: var(--color-font-faded);
}

a.active,
a:hover {
	color: var(--color-link-hover);
}

header {
	border-bottom: solid var(--width-3) var(--color-app-accent);
	background: var(--color-app);
	padding: var(--space-025);
	position: sticky;
	top: 0;
	left: 0;
	width: 100%;
	z-index: 999;
}

nav {
	display: flex;
	align-items: center;
}

.options-button {
	background: url('img/icons8-menu-64.png');
	min-width: 24px;
	width: 32px;
	height: 32px;
	background-repeat: no-repeat;
	background-position: center;
	background-size: contain;
	filter: var(--filter-brightness);

	& input {
		opacity: 0;
		width: 100%;
		height: 100%;
		cursor: pointer;
	}
}

.links {
	display: flex;
	margin-left: auto;
	align-items: center;

	& > a {
		padding-right: var(--space-05);
		padding-block: var(--space-025);
		&:not(:first-child) {
			padding-left: var(--space-05);
			border-left: solid var(--width-2) var(--color-app-accent);
		}
	}
}

.options {
	display: flex;
	flex-wrap: wrap;
	gap: var(--space-05) var(--space-1);
	padding-top: var(--space-05);
	border-top: solid var(--width-2) var(--color-app-accent);
}

.options-wrapper {
	transition: height var(--transition-short);
	overflow: hidden;
	height: 35px;
}

@media screen and (max-width: 923px) {
	.options-wrapper {
		height: 68px;
	}
}

@media screen and (max-width: 522px) {
	.options-wrapper {
		height: auto;
	}
}

.option {
	display: flex;
	align-items: center;
	gap: var(--space-025);
	cursor: pointer;
	font-size: 0.8em;
	padding-inline: var(--width-3);

	& * {
		cursor: pointer;
	}
	& label {
		-webkit-user-select: none;
		user-select: none;
		&:hover {
			text-shadow: var(--color-font-shadow-highlight);
		}
	}
}

#bColorScheme {
	width: 1em;
	height: 1em;
	min-width: 1em;
	background: var(--color-app-contrast);

	border: none;
	border-radius: var(--width-4);

	&:hover {
		box-shadow: 0px 0px 2px 0.5px var(--color-app-contrast), 0px 0px 4px var(--color-background-end);
	}

	box-shadow: 0px 0px 4px var(--color-background-end);
}

#app {
	display: flex;
	flex-direction: column;
	flex-wrap: wrap;
	justify-content: center;
	align-items: center;
	gap: var(--space-2);
	margin: var(--space-2);
	flex: auto;
}

section {
	padding: var(--space-1);
	border-radius: var(--width-8);
	border: solid 2px var(--color-app-contrast);
	width: -moz-available;
	width: -webkit-fill-available;
	min-width: min-content;
	max-width: 1000px;
	background: var(--color-app);
}

#simulation {
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
}

.content {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	gap: var(--space-2);
}

#enchantment_items {
	width: min-content;
	& th {
		padding-block-end: var(--space-025);
		padding-inline: var(--space-05);
		white-space: nowrap;
		text-wrap: nowrap;
	}
	& th[scope='row'] {
		padding-block: var(--space-025);
		padding-inline: var(--space-0);
	}
	& td {
		padding-block: var(--space-025);
		padding-inline: var(--space-05);
		& input {
			width: 100%;
		}
	}
	& tfoot input {
		width: -moz-fit-content;
		width: fit-content;
		padding-inline: var(--space-05);
	}
}

.ei_wrapper {
	display: flex;
}

.ei_img {
	width: 25px;
}

.pity_ready {
	color: yellow;
}

.ei_pity {
	display: flex;
	align-items: flex-end;
	justify-content: flex-start;
	margin-left: 3px;
	font-size: 0.7em;
	min-width: 5ch;
}

#estimation {
	display: grid;
	grid-template-columns: auto auto;
	gap: var(--space-05) var(--space-1);

	justify-content: center;
	align-items: center;
	justify-items: end;

	margin-top: var(--space-1);
	text-wrap: nowrap;
}

#settings {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	white-space: nowrap;
	text-wrap: nowrap;
}

#general {
	display: grid;
	grid-template-columns: auto auto;
	gap: var(--space-05) var(--space-1);

	justify-content: center;
	align-items: center;
	justify-items: end;

	& label {
		text-align: left;
		display: flex;
		flex-direction: column;
		align-items: center;
		position: relative;
	}
}

#spCurrentTargetFS {
	position: absolute;
	top: calc(var(--font-size-base) + var(--width-2));
	font-size: 0.7em;
}

.current_target_fs_reached {
	color: var(--color-combined-value);
}

#enchantment_steps {
	text-align: center;

	& th {
		padding-block: var(--space-025);
		padding-inline: var(--space-05);
	}
	& td {
		padding-block: var(--space-025);
		padding-inline: var(--space-05);
	}
}

#iteration {
	display: grid;
	grid-template-columns: auto auto;
	gap: var(--space-05);

	justify-content: center;
	align-items: center;
	justify-items: end;

	width: min-content;
	margin-block: var(--space-05);
	text-align: center;
}

#output {
	display: grid;
	grid-template-columns: 1fr;

	& label {
		margin-inline-start: var(--space-025);
	}
	& input:first-child {
		margin-bottom: var(--space-05);
	}
	& input {
		width: -moz-available;
		width: -webkit-fill-available;
	}
	& *:nth-child(2) {
		margin-bottom: var(--space-05);
	}
}

#evaluation,
#failstacks {
	--colums: 4;
}

#prices {
	--colums: 2;
}

.grid-list-wrapper {
	display: grid;
	gap: calc(var(--gap-y) * 2) var(--gap-x);
	overflow: hidden;
	padding: var(--space-05);

	text-align: right;
	white-space: nowrap;
	text-wrap: nowrap;

	color: var(--color-font-2);

	--gap-y: var(--space-1);
	--gap-x: var(--space-3);
	--line-offset-y: calc(var(--gap-y) / 2);
	--line-offset-x: calc(var(--gap-x) / 2);
	--line-color-x: var(--color-app-accent);
	--line-color-y: var(--color-app-accent);
	--line-thickness-x: 1px;
	--line-thickness-y: 2px;
}

.grid-list {
	display: grid;
	gap: var(--gap-y) var(--gap-x);
	grid-column: 1 / calc(var(--colums, 4) + 1);
	grid-template-columns: subgrid;

	/* overflow: hidden; */
}

.grid-item-wrapper {
	display: grid;
	grid-column: 1 / calc(var(--colums, 4) + 1);
	grid-template-columns: subgrid;
}

.gc-se-35 {
	grid-column-start: 3;
	grid-column-end: 5;
}

.grid-header {
	color: var(--color-font);
	font-size: 1.2em;
	text-align: center;
}

.combined_sum {
	color: var(--color-combined-sum);
}

.total_cost {
	color: var(--color-total-cost);
}
.combined_cost {
	color: var(--color-combined-cost);
}

.total_value {
	color: var(--color-total-value);
}
.combined_value {
	color: var(--color-combined-value);
}
.pen_reblath_total_value {
	color: var(--color-pen-renblath-total-value);
}

.shadowed {
	color: var(--color-shadowed);
	font-style: oblique;
	font-style: italic;
}

.formatted {
	display: flex;
	justify-content: flex-end;
	gap: 0.25em;
}

.grid-item {
	position: relative;
}

.grid-item::before,
.grid-item::after {
	content: '';
	position: absolute;
	z-index: 1;
}

.grid-item::before {
	inline-size: var(--line-thickness-x);
	block-size: 200vh;
	inset-inline-start: calc(var(--line-offset-x) * -1);
	inset-block-start: -100vh;
	background-color: var(--line-color-x);
}

.grid-item::after {
	inline-size: 200vw;
	block-size: var(--line-thickness-y);
	inset-inline-start: -100vw;
	inset-block-start: calc(var(--line-offset-y) * -1);
	background-color: var(--line-color-y);
}

.autowidth {
	transition-duration: var(--timing-long);
}

.select-editable {
	position: relative;
	width: 100px;
	height: 21px;
}
.select-editable:has(*:focus-visible) {
	outline: -webkit-focus-ring-color auto 1px;
}

.select-editable select:focus,
.select-editable input:focus {
	outline: none;
}
.select-editable select {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}
.select-editable input {
	position: absolute;
	top: 0;
	left: 0;
	width: calc(100% - 16px);
	height: 100%;
	background: var(--color-field) !important;
	border-right: none !important;
	border-color: var(--color-field-border) !important;
	cursor: revert;
}

/*
	Layout
	x x
	x x
*/

/* #app {
	justify-content: flex-start;
	flex-direction: row;
	align-items: flex-start;
} 

section {
	width: min-content;
} */

/*
	Layout
	x x x x
*/

html {
	height: 100%;
}

body {
	height: 100%;
	overflow: hidden;
	display: flex;
	flex-direction: column;
}

header {
	position: static;
}

#app {
	flex-wrap: nowrap;
	justify-content: flex-start;
	flex-direction: row;
	align-items: flex-start;
	overflow: auto;
	margin: 0;
	padding: var(--space-2);
}

section {
	width: min-content;
}

#iLimitDuos {
	width: 70px;
}
